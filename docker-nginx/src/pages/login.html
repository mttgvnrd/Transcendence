<div class="container py-5">
	<div class="row justify-content-center mb-4">
		<div class="col-lg-6 text-center">
			<h1 class="login-title mb-3">Benvenuto</h1>
			<p class="login-subtitle mb-4">Accedi al tuo account per iniziare a giocare</p>
		</div>
	</div>

	<div class="row justify-content-center">
		<div class="col-md-5">
			<!-- Form di login standard -->
			<div id="loginContainer" class="card login-card">
				<div class="card-header">
					<h5 class="mb-0 text-center"><i class="fas fa-sign-in-alt me-2 text-primary"></i>Login</h5>
				</div>
				<div class="card-body p-4">
					<form id="loginForm">
						<div class="mb-3">
							<label for="username" class="form-label">
								<i class="fas fa-user text-primary me-2"></i>Username:
							</label>
							<input type="text" class="form-control" id="username" name="username" required>
						</div>
						<div class="mb-3">
							<label for="password" class="form-label">
								<i class="fas fa-lock text-primary me-2"></i>Password:
							</label>
							<input type="password" class="form-control" id="password" name="password" required>
						</div>
						<div id="errorMessage" class="alert alert-danger" style="display: none;"></div>
						
						<button type="submit" class="btn btn-primary w-100 btn-hover-effect mt-3">
							<i class="fas fa-sign-in-alt me-2"></i>Accedi
						</button>
						
						<div class="text-center mt-3">
							<a href="/register" data-route="register" class="link-hover-effect">Non hai un account? Registrati</a>
						</div>
					</form>
				</div>
			</div>
			
			<!-- Form per l'autenticazione a due fattori -->
			<div id="twoFactorContainer" class="card login-card" style="display: none;">
				<div class="card-header">
					<h5 class="mb-0 text-center"><i class="fas fa-shield-alt me-2 text-primary"></i>Verifica Autenticazione a Due Fattori</h5>
				</div>
				<div class="card-body p-4">
					<div class="text-center mb-4">
						<i class="fas fa-key fa-3x text-primary mb-3"></i>
						<p>Inserisci il codice a 6 cifre dalla tua app di autenticazione per l'account <strong id="twoFactorUsername"></strong>.</p>
					</div>
					
					<form id="twoFactorForm">
						<div class="mb-4">
							<label for="twoFactorCode" class="form-label">Codice di verifica:</label>
							<input type="text" class="form-control form-control-lg text-center" id="twoFactorCode" name="twoFactorCode" 
								   pattern="[0-9]{6}" maxlength="6" required placeholder="000000">
						</div>
						<div id="twoFactorError" class="alert alert-danger" style="display: none;"></div>
						
						<div class="d-grid gap-2">
							<button type="submit" class="btn btn-primary btn-hover-effect">
								<i class="fas fa-check-circle me-2"></i>Verifica
							</button>
							<button type="button" id="backToLogin" class="btn btn-outline-secondary btn-hover-effect">
								<i class="fas fa-arrow-left me-2"></i>Torna al login
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<style>
	.login-title {
		font-weight: 700;
		color: #333;
	}
	
	.login-subtitle {
		color: #666;
		font-size: 1.2rem;
	}
	
	.card {
		border-radius: 15px;
		transition: all 0.3s ease;
		border: 2px solid rgba(0,0,0,0.08);
		overflow: hidden;
		box-shadow: 0 5px 15px rgba(0,0,0,0.05);
	}
	
	.login-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 10px 25px rgba(0,0,0,0.1);
		border-color: rgba(13, 110, 253, 0.3);
	}
	
	.card-header {
		background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
		border-bottom: 1px solid rgba(0,0,0,0.08);
	}
	
	.btn-hover-effect {
		transition: all 0.3s ease;
	}
	
	.btn-hover-effect:hover {
		transform: translateY(-3px);
		box-shadow: 0 5px 10px rgba(0,0,0,0.1);
	}
	
	.link-hover-effect {
		color: #0d6efd;
		text-decoration: none;
		transition: all 0.2s ease;
	}
	
	.link-hover-effect:hover {
		color: #0a58ca;
		text-decoration: underline;
	}
	
	.form-control {
		padding: 10px 15px;
		border-radius: 10px;
		border: 1px solid #ced4da;
		transition: all 0.2s ease;
	}
	
	.form-control:focus {
		border-color: #0d6efd;
		box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
	}
	
	.container-signin {
		width: 100%;
		padding-right: var(--bs-gutter-x, 0.75rem);
		padding-left: var(--bs-gutter-x, 0.75rem);
		margin-right: auto;
		margin-left: auto;
	}
</style>